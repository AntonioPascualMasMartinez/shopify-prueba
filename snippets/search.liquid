{%- doc -%}
  Renders the search action button.

  @param {string} [style] - The style of the search action.
  @param {string} [class] - Additional classes for the search action.
  @example
  {% render 'search', style: 'default', class: 'custom-class' %}
{%- enddoc -%}

{% unless style == 'none' %}
  <search-button class="search-action {% if class != blank %}{{ class | strip }}{% endif %}" style="flex-grow: 1; display: flex; justify-content: center;">
    
    <button
      on:click="#search-modal/showDialog"
      class="custom-search-wrapper"
      aria-label="{{ 'content.search_input_label' | t }}"
      aria-haspopup="dialog"
    >
      <span class="custom-search-icon">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#273488" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="11" cy="11" r="8"></circle>
          <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
        </svg>
      </span>

      <span class="custom-search-placeholder">¿Qué estás buscando?</span>
    </button>
  </search-button>

  <style>
    /* Diseño visual de la píldora */
    .custom-search-wrapper {
      display: flex;
      align-items: center;
      background-color: #ffffff;
      border-radius: 90px;
      padding: 10px 20px;
      width: 100%;
      max-width: 500px; /* Ancho máximo de la barra. Puedes subirlo o bajarlo */
      min-width: 200px;
      border: none;
      
      /* Truco: Cambiamos el cursor para que parezca que se puede escribir */
      cursor: text; 
      
      margin: 0 auto; /* Centrado horizontal automático */
      transition: opacity 0.2s ease;
    }

    /* Pequeño efecto al pasar el ratón para que se sienta interactivo */
    .custom-search-wrapper:hover {
      opacity: 0.9; 
    }

    .custom-search-icon {
      display: flex;
      align-items: center;
      justify-content: center;
      margin-right: 12px;
    }

    .custom-search-placeholder {
      color: rgba(39, 52, 136, 0.5); /* Tu color #273488 con 50% de opacidad */
      font-family: inherit;
      font-size: 1rem;
      text-align: left;
      flex-grow: 1; /* Empuja el texto para ocupar el espacio */
    }
  </style>
{% endunless %}

{% stylesheet %}
  /* Respetamos las clases originales del tema para móvil/desktop */
  .search-action {
    display: flex;
    align-items: center;
  }

  @media screen and (max-width: 749px) {
    .search-action--hidden-on-drawer {
      display: none;
    }
  }

  @media screen and (min-width: 750px) {
    [data-menu-style='drawer'] .search-action--hidden-on-drawer {
      display: none;
    }

    [data-menu-style='menu'] .search-action--hidden-on-menu {
      display: none;
    }
  }

  [data-menu-style='menu'] .header__column--left .search-action {
    @media screen and (min-width: 750px) {
      margin-inline: calc(var(--padding-lg) * -1);
    }
  }

  .header__column--right .search-action {
    @media screen and (min-width: 750px) {
      margin-inline: calc(var(--gap-md) * -1) calc(var(--gap-xs) * -1);
    }
  }
{% endstylesheet %}